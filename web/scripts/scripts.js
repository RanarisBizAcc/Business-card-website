const citiesArray = [
    {Id: 1, Name: 'stpitersburg', Title:'Санкт-Петербург', Description: 'Большой город с интересной историей'},
    {Id: 2, Name: 'tbilisi', Title:'Тбилиси', Description: 'Красивое место с духом Европы'},
    {Id: 3, Name: 'yerevan', Title:'Ереван', Description: 'Неожиданно и очень приятно'},
    {Id: 4, Name: 'kazan', Title:'Казань', Description: 'Колорит, независимость и красота'},
    {Id: 5, Name: 'kas', Title:'Каш', Description: 'Море, горы и жара'},
    {Id: 6, Name: 'nsk', Title:'Новосибирск', Description: 'Большой и шумный городок'},
    {Id: 7, Name: 'nvkz', Title:'Новокузнецк', Description: 'Зелёный город с промышленным настроением'},
    {Id: 8, Name: 'vladivostok', Title:'Владивосток', Description: 'Город ветров, вкусов и воспоминаний'},
];
const citiesTextsArray = [
    {CityId: 1, Blocks: [
        'Санкт-Петербург — это город, который сразу захватывает атмосферой. Когда ты здесь, невозможно не понять, почему его называют культурной столицей России. Все те, ' +
        'кто когда-либо мечтал о путешествии по России, обязательно планируют сюда поехать — и это не случайно.<br><br>Здесь изумительная архитектура, которая буквально ' +
        'оживает в каждом здании и на каждой улице. Каждый уголок города дышит богатой историей, а интересные люди, которые встречаются на каждом шагу, лишь добавляют этому ' +
        'месту уникальной атмосферы.<br><br>Гуляя по Питеру, невозможно не ощутить его величие и лёгкую интригу. Этот город как будто рассказывает свою историю, заставляя ' +
        'задумываться о многом, но в то же время он невероятно гостеприимен и тёплый в своём визуальном восприятии.<br><br>В Санкт-Петербурге есть масса мест, которые хочется ' +
        'посетить снова и снова. Например, музей ретро игровых автоматов — это не просто музей, а целый кусочек прошлого, который приносит ностальгические ощущения. Крэнг ' +
        'Пицца — не просто отличное место для еды, но и часть той уникальной атмосферы города, где даже простое кафе может стать достопримечательностью. Бесконечные парки и ' +
        'скверы города, которые словно живые картины, и волшебные набережные с их видами на реку и мосты — это места, в которых хочется проводить часы, наслаждаясь красотой ' +
        'и тишиной.',
        'Особенно запоминаются прогулки по музеям, а также потрясающие виды на мосты, которые открываются с различных точек города. Санкт-Петербург не перестаёт удивлять, ' +
        'и даже несколько дней в нём — это лишь малая часть того, что он может предложить.<br><br>Я бы с удовольствием вернулся в Санкт-Петербург. Этот город настолько ' +
        'многогранен, что невозможно обойти все его интересные места за один визит. Каждый раз, приезжая сюда, ты открываешь что-то новое, что заставляет любить его всё ' +
        'больше и больше.'
        ]
    },
    {CityId: 2, Blocks: [
        'Тбилиси — город, который не даёт покоя: он шумноват, но этот шум не раздражает. В нём есть что-то загадочное, что манит возвращаться.<br><br> Я ожидал, что здесь ' +
        'будет всё, что я люблю: радушные люди, потрясающая еда и уютная, приятная атмосфера. И, на самом деле, ничто не разочаровало. Город сразу встретил меня теплом, и всё ' +
        'вокруг казалось таким знакомым, как если бы я уже был здесь.<br><br>Одним из любимых мест стал ресторанчик Хинкали хаус, где можно попробовать традиционные хинкали ' +
        '— и просто наслаждаться атмосферой. С каждой прогулкой по улицам ты всё больше ощущаешь, как город живёт своей жизнью, сочиняет свою историю. Он не спешит, но в то ' +
        'же время всегда в движении.',
        'Самым ярким моментом стало посещение исторического центра Тбилиси. Здесь каждое здание, каждый уголок словно рассказывает свою историю. Узкие улочки, старинные дома, ' +
        'крепость НариКала — всё это поражает своей красотой и элегантностью, и кажется, что ты гуляешь по Европе с грузинским акцентом.<br><br>В Тбилиси приятно быть. Это ' +
        'не просто город, это место, которое хочется снова и снова посещать. Я с удовольствием вернулся бы сюда на пару дней, чтобы снова встретиться с друзьями, поесть ' +
        'вкуснейшую еду и просто наслаждаться этим замечательным городом.'
        ]
    },
    {CityId: 3, Blocks: [
        'Когда я ехал в Ереван, я почти ничего о нём не знал. Даже не успел особо изучить город, и первые впечатления были совсем не такими, как ожидал. Прилетев ночью, ' +
        'я толком не разглядел ничего, а район вокруг аэропорта казался довольно унылым и разрушенным. Но вот когда наступило утро — я был буквально ослеплён красотой этого ' +
        'города. Весь тот шарм, что скрывался в темноте, раскрылся на свету. Ереван удивил меня тем, насколько он красив, и какой яркой, богатой культурой и историей он ' +
        'обладает.<br><br>Город на первый взгляд может показаться суетным, но это суета, наполненная жизнью и радостью. Люди здесь открытые, доброжелательные, и сам город ' +
        'будто постоянно на подъёме, несмотря на свою активность.<br><br>Особенно мне понравились парки — они просто идеальны. Зеленые, ухоженные, с чистыми фонтанами, в ' +
        'которых, кажется, можно пить воду прямо из источников. И это не преувеличение — по всему городу есть бесплатные фонтанчики с питьевой водой, что делает прогулки по ' +
        'Еревану ещё приятнее.',
        'Ереван — это не только красивый город, но и место с богатой историей. Озеро Севан, куда я съездил на экскурсию, оставило невероятные впечатления: это место ' +
        'излучает спокойствие и величие. Парк "Ереван Парк" стал отличным вариантом для досуга, а посещение завода "Арарат", где варят знаменитый армянский коньяк, стало ' +
        'настоящей изюминкой путешествия. И, конечно, не могу не отметить Каскад — это просто потрясающе красивое место с видами на город и горы.<br><br>Ереван оставил у меня ' +
        'самые приятные воспоминания. Он живой, насыщенный и в то же время спокойный в своих моментах. В него хочется вернуться, чтобы снова пройтись по его улочкам, ' +
        'посидеть в парке и насладиться уникальной атмосферой. На несколько дней сюда точно стоит заехать — и ты уедешь с чувством, что открыл для себя нечто удивительное.'
        ]
    },
    {CityId: 4, Blocks: [
        'Казань — город, который словно собрал в себе всё самое яркое и многогранное, что можно найти в России. Он пронизан историей и культурой, но при этом ощущается ' +
        'невероятно живым, современным, уверенным в себе. Тут чувствуется дух независимости — не только на уровне политическом, но и в самом характере города, который ' +
        'никогда не стремится быть похожим на других. Он не боится быть собой.<br><br>Его колорит меняется на каждом шагу. Исторический центр, где рядом соседствуют мечети ' +
        'и православные храмы, старинные здания и современные постройки, всегда вызывает восхищение. Казанский Кремль — это не просто архитектурный памятник, это сердце ' +
        'города. Башня Сююмбике, символ казанского духа, кажется, стоит тут вечность, а виды с неё — просто невероятные.<br><br>Но Казань не только о прошлом. Этот город ' +
        'живёт в моменте и смотрит в будущее. Молодёжные кафе, креативные пространства, арт-галереи и фестивали, которые проходят здесь круглый год, создают атмосферу, ' +
        'где соединяются традиции и современные тренды. Тут можно и прогуляться по старинным улочкам, и зайти в модные заведения, где царит своя особенная атмосфера.',
        'Одно из самых сильных ощущений — это неповторимая гармония разных культур и религий. Когда ты идёшь по улицам Казани, понимаешь, что это не просто исторический факт, ' +
        'это часть повседневной жизни. Мечети, православные храмы, синагоги — все они соседствуют мирно, как символ того, что культурное многообразие — это сила, ' +
        'а не слабость.<br><br>Отдельно стоит отметить красоту Казани. Этот город удивительно живописен, с причудливыми мостами, зелёными парками, уютными улицами и ' +
        'великолепными видами на Волгу или на Казанку. Вечером город особенно красив, когда огоньки на мостах и зданиях начинают переливаться, создавая ощущение, что ты попал ' +
        'в сказку. А Казанский университет, с его старинными корпусами, уже давно стал неотъемлемой частью городской идентичности.<br><br>В Казани ощущение покоя, ' +
        'уюта и уверенности в том, что город всегда будет на своём месте — с колоритом, независимостью и красотой, которые не забываются. И даже если ты приехал сюда всего на ' +
        'пару дней, уходить всё равно не хочется — слишком многое хочется почувствовать и увидеть.'
        ]
    },
    {CityId: 5, Blocks: [
        'Каш — это город, который буквально прилипает к склонам гор и будто сползает к морю, открывая невероятные виды на каждый шаг.<br><br>Он как открытка: разноцветные ' +
        'домики, узкие петляющие улочки, цветы в горшках, солнце, блестящее в воде. Турецкий по духу, но с явным греческим акцентом — ощущается в деталях, в ландшафте, в ' +
        'атмосфере. Он будто и не про страну, а про состояние: расслабленное, свободное, не обязывающее ни к чему.<br><br>Город живёт туристами — это чувствуется сразу. ' +
        'Заведения на каждом углу, и хотя выбор большой, у каждого гостя быстро появляется свой маршрут и свои любимые места. За атмосферой и идеальным кофе с сан-себастьяном ' +
        'хочется вернуться в GODO. А чтобы плотно поесть — Noel Baba на центральной площади или Kas Bistro у пляжей. Всё вкусно, просто, приятно и совсем не по-туристически ' +
        'бездушно.',
        'Каш — это не только про еду и виды, но и про ощущение цельности. Здесь пляжи становятся частью ритма жизни, а не просто точкой на карте. Бич-клабы — находка: ' +
        'поплавал, поел, отдохнул, снова в воду — и всё это не за сумасшедшие деньги. Местные пляжи хочется обойти все — они разные, но каждый хорош по-своему. И в какой-то ' +
        'момент понимаешь, что нет смысла выбирать любимый — просто идёшь, куда хочется.<br><br>Некоторые места в Каше цепляют особенно сильно. Пляж Капуташ — это ' +
        'захватывающая красота: резкий обрыв, лестница вниз, бирюзовая вода и камни, будто выточенные вручную. Античный театр в центре города оживает каждый вечер под звуки ' +
        'живой музыки — сцена, на которую хочется сесть и просто смотреть на звёзды. Вертолётная площадка — неожиданно уединённое и красивое место для купания. А узкие ' +
        'тропинки, ведущие то вверх, то вниз, создают ощущение бесконечного путешествия даже в границах небольшого города.<br><br>Каш расслабляет. Он будто специально создан ' +
        'для того, чтобы сбавить темп, дать телу тепло, глазам — цвет, а голове — тишину. Вернуться сюда хочется. Не навсегда и, может быть, не надолго — недели вполне хватит, ' +
        'чтобы почувствовать главное. Но в памяти он остаётся надолго — тёплый, залитый солнцем, чуть уставший, но очень живой.'
        ]
    },
    {CityId: 6, Blocks: [
        'Новосибирск — это большой и шумный городок, в котором жизнь идёт быстро и громко, но при этом остаётся что-то цепляющее, настоящее. Он не сразу открывает свои лучшие ' +
        'стороны, но если задержаться подольше, то начинаешь замечать нюансы — те самые, что остаются в памяти после поездки.<br><br>Районы города сильно различаются по ' +
        'характеру. Академгородок — современное и ухоженное пространство, живущее наукой, технологиями и спокойной уверенностью в себе. Было бы идеально, если бы он ' +
        'находился поближе к центру жизни города, но и в своей удалённости он притягателен. Правый берег — красивый, насыщенный, с интересной архитектурой, большим выбором ' +
        'заведений, уютными скверами и площадями. Левый берег — проще, серее, но всё не так однозначно. Здесь тоже можно найти хорошие места, просто нужно знать, куда идти ' +
        'и смотреть немного глубже. Визуально он уступает, но по-своему интересен.<br><br>Общее ощущение от города — движение. Вокруг всё крутится: машины, люди, ветры, ' + 
        'настроение. Это утомляет, но и бодрит. Новосибирск не позволяет расслабиться, но именно за счёт этого запоминается.',
        'Еда в городе — отдельная тема. Я отлично провёл время в "Shredder Pizza", где вкус и атмосфера идут рука об руку. Хорошее пиво и сытные блюда в "Gusi в городе" ' +
        'запомнились почти как идеальный вечер с друзьями. А в "Перчини" я нашёл ту самую пасту и гаспачо, которые хочется повторить. Удивительно, но в городе ощущается широкий ' +
        'гастрономический выбор, и это не формальность, а настоящий интерес к качеству.<br><br>Культурная жизнь в Новосибирске радует. Здесь действительно есть всё: от ' +
        'классических концертов в филармонии до картинга на крыше торгового центра. Город не даёт заскучать — каждый вечер можно провести по-разному. И если хочется смены ' +
        'ритма, то всегда найдётся место, которое даст это ощущение.<br><br>Новосибирск может показаться шумным, серым и перегруженным. Но если быть честным — в этом и его прелесть.' +
        'Он живой. Он настоящий. И, может быть, не сразу дружелюбный, но точно достойный того, чтобы с ним познакомиться поближе.'
        ]
    },
    {CityId: 7, Blocks: [
        'Новокузнецк — это удивительное сочетание зелени и тяжеловесного индустриального прошлого. На первый взгляд он может показаться типичным промышленным городком, ' +
        'особенно если сравнивать с соседями по региону. Но если немного остановиться и приглядеться, начинаешь замечать детали: здания, где архитектура действительно на ' +
        'своём месте, уютные зелёные зоны, мягкую энергетику улиц. Это не город, который кричит о себе, а скорее тот, что спокойно живёт своей жизнью.<br><br>' +
        'Общее ощущение от города — спокойствие. Здесь нет спешки, нет перегруженности. Люди движутся своим темпом, улицы не давят, а скорее дают пространство. При этом город ' +
        'не выглядит пустым или блеклым — он живой, но не суетливый. Это редкое сочетание.',
        'Очень порадовали местные заведения. В районе сквера Ермакова — настоящее гастрономическое сердце города: множество ресторанчиков, в которых можно вкусно поесть и ' + 
        'просто хорошо провести время. Культурно тоже есть, куда сходить. Галерея "2 Суворова" оставляет приятное послевкусие от визуального искусства, а Драмтеатр — отличное ' + 
        'место, чтобы ненадолго оторваться от повседневности.<br><br>Навигация по городу — удовольствие. Компактность Новокузнецка делает его понятным и предсказуемым: сложно ' +
        'потеряться, легко планировать маршрут. А зелени здесь действительно много — и она заметно смягчает общее впечатление от индустриального фона, которого всё же немало.' +
        '<br><br>Новокузнецк не бросается в глаза, но запоминается. В нём есть баланс — между шумом заводов и тишиной скверов, между тяжёлым воздухом и лёгкой прогулкой. Это ' +
        'город, в котором хорошо просто быть.'
        ]
    },
    {CityId: 8, Blocks: [
        'Владивосток — это город, который легко заинтересовывает с первого взгляда.<br><br>Центр манит своей плотной застройкой, разнородной архитектурой и жизнью на каждом ' + 
        'перекрёстке. А вот Первомайский район стал для меня настоящим окном в прошлое — здесь всё ещё много частного сектора, странно извивающихся дорог, неожиданных поворотов' +
        ', но при этом удивительно много уютных, почти спрятанных от глаз мест.<br><br>Одним из таких открытий стал грузинский ресторан «Супра». Невероятно вкусная кухня, тёплая ' +
        'атмосфера и очередь местных жителей за самовывозом говорят сами за себя. Конечно, я не обошёл стороной и морскую кухню: ресторан Studio покорил меня пастой с чернилами ' +
        'каракатицы и видом на аквариум с крабами — сочетание, которое трудно забыть.' +
        'Погода в мае, как оказалось, совсем не радует теплом. Владивосток встретил меня ветром, тучами и холодными дождями. Но даже в этом есть своя романтика: сильные ' +
        'порывы с моря придают городу особую атмосферу — живую, почти суровую, но красивую.',
        'С культурной стороны Владивосток порадовал. Балет в филиале Мариинского театра ' + 
        'стал ярким моментом поездки. Галерея в Приморском музее — ещё один штрих к общей картине. Приятно удивила и набережная: когда-то я гулял по ней в детстве, и приятно ' + 
        'было убедиться, что она всё ещё красива. Особое впечатление оставил маяк Токаревского — интерактив с приливом добавил азарта: на маяк можно попасть только в отлив, ' +
        'но не стоит задерживаться — вода возвращается стремительно. А Русский остров и океанариум — это отдельный восторг и уважение к природе и инфраструктуре.<br><br>Сначала ' + 
        'город встретил меня не лучшим образом — были проблемы с гостиницей, да и погодные условия не радовали. Но всё остальное — вкус, ритм, виды, воспоминания — всё ' +
        'это оставило глубокий и тёплый след. Я не уверен, что вернусь сюда вновь, но знаю точно: Владивосток способен подарить очень многое, если его правильно распаковать.'
        ]
    },
];

function getCityByName(cityName) {
    const city = citiesArray.find(item => item.Name === cityName.replace("#", ""));
    return city;
};

function getCityByTitle(cityTitle) {
    const city = citiesArray.find(item => item.Title === cityTitle);
    return city;
};

function getCityById(cityId) {
    const city = citiesArray.find(item => item.Id == cityId);
    return city;
};

function getAllButOneOfTheCities(exceptCityId) {
    const cities = citiesArray.filter(item => item.Id != exceptCityId);
    return cities;
};

function getPhotosNamesByCityId(cityId) {
    let photosNames = [];

    const city = getCityById(cityId);
    if (city != undefined) {
        photosNames.push(city.Name + '_1.jpg');
        photosNames.push(city.Name + '_2.jpg');
    }

    return photosNames;
};

function getCoverName(cityId) {
    let coverName = 'somewhere.png';

    const city = getCityById(cityId);
    if (city != undefined) {
        coverName = city.Name + '.png';
    }

    return coverName;
};

function getCityTextBlocks(cityId) {
    let textBlocks = [];

    const city = getCityById(cityId);
    if (city != undefined) {
        const cityText = citiesTextsArray.find(item => item.CityId == cityId);
        if (cityText != undefined){
            return cityText.Blocks;
        }
    }

    return textBlocks;
};

function goToSelectedCity(cityId) {
    const city = getCityById(cityId);
    window.location.href = `city.html#${city.Name}`;
};

function goToAnotherCity(cityCard) {
    const cityTitle = cityCard.querySelector('h3').textContent;
    const сity = getCityByTitle(cityTitle);
    window.location.hash = сity.Name;
    fillDocument();
};

function goToAnotherCityById(cityId) {
    const сity = getCityById(cityId);
    window.location.hash = сity.Name;
    fillDocument();
};

function fillDocument() {
    const currentUrlHash = window.location.hash;
    const city = getCityByName(currentUrlHash);
    const anotherCitiesArray = getAllButOneOfTheCities(city.Id);
    const photos = getPhotosNamesByCityId(city.Id);
    const cityTextBlocks = getCityTextBlocks(city.Id);

    let docTitle = document.getElementById('title');
    let docDescription = document.getElementById('description');
    let docCover = document.getElementById('first-image');
    let docParagraphFirst = document.getElementById('paragraph-1');
    let docParagraphSecond = document.getElementById('paragraph-2');
    let docImageFirst = document.getElementById('image-1');
    let docImageSecond = document.getElementById('image-2');
    let docAnotherCityCards = document.getElementById('another-city-cards');

    docTitle.textContent = city.Title;
    docDescription.textContent = city.Description;
    docCover.src = '../resources/covers/' + getCoverName(city.Id);
    docParagraphFirst.innerHTML  = cityTextBlocks[0];
    docParagraphSecond.innerHTML = cityTextBlocks[1];
    docImageFirst.src = '../resources/photos/' + photos[0];
    docImageSecond.src = '../resources/photos/' + photos[1];

    for(let i = 0; i < docAnotherCityCards.children.length; i++) {
        let cardBlock = docAnotherCityCards.children[i];

        let cardImg = cardBlock.querySelector('img');
        let cardHeader = cardBlock.querySelector('h3');
        let cardDescription = cardBlock.querySelector('p');
        
        let cardCity = anotherCitiesArray[i];

        cardImg.src = '../resources/covers/' + getCoverName(cardCity.Id);
        cardHeader.textContent = cardCity.Title;
        cardDescription.textContent = cardCity.Description;
    };

    window.scrollTo({top: 0});
};

document.addEventListener('DOMContentLoaded', function () {
    const currentUrlHash = window.location.hash;
    if (currentUrlHash != '') {
        fillDocument();
    }
});